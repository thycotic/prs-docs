[title]: # (Password Reset Server Release Notes 5.3.0)
[tags]: # (release notes)
[priority]: # (1096)

# Password Reset Server Release Notes 5.3.0

## Upgrade Notes

* Thycotic encourages all customers to upgrade to version 5.0.3 at their earliest opportunity.

* Thycotic thanks Brian Fox from Booze Allen Hamilton for identifying the security issues leading to this release.

## Security

### High Priority Security Fix

Addressed potential credential disclosure issues.

Common Vulnerability Scoring System (CVSS) v3.1:

* **Score**: 10 (Critical)

* [**Vector**: AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H.&version=3.1)

### Best Practices for Hardening PRS Communication to the LDAP Server

To prevent opening a security vulnerability for Password Reset Server, especially when PRS is installed in the DMZ or is exposed to the public internet, outgoing requests over ports 389 and 636 should be blocked by an outbound firewall rule, except those intended for the legitimate LDAP server.  

On the Password Reset Server host, this configuration can be accomplished by creating two custom outbound rules in a specific order. You must create and execute the **Allow** rule first, and then create and execute the **Block** rule.

1. **Allow**. First, create an outbound rule to allow PRS to connect to your internal LDAP server over LDAP ports 389 and 636 only.

1. **Block**. Then, create a second outbound rule to block PRS from connecting to other LDAP servers/endpoints on LDAP ports 389 and 636.

## Bug Fixes

**Offline reset setup failed**. Some users, while installing PRS client in some environments, received an exception message of “Too many automatic re-directions were attempted.” The exception blocked offline reset functionality, and the user received an error message reading, “Offline reset setup failed, verify application host URL is reachable and re-install PRS Windows Login Client.” The issue has been fixed in this release.

**Server not reachable**. After making changes in the customresources folder, some users received an error message of, “Server not reachable.” The message was worded generically to protect the user from potential security vulnerabilities. But the server was always reachable, and the issue has been fixed in this release.

## Workaround

**Phone not ringing**. One user reported that their phone would not ring with their pincode stored on the server in `C:\temp`. Pincodes are stored in the temp directory and moved to a file to enable testing without signing into a service. If you experience this problem, open your web.config file and remove the following line:

`<add key="PhoneQuestionCaller.TypeName" value="Thycotic.Usizo.Business.MockPhoneQuestionsCaller"/>`

## Notification

PRS client 5.1.6 is incompatible with PRS server 5.2.00000 and higher. Customers on PRS client 5.1.6 must upgrade to PRS client 5.1.7 before they can upgrade to PRS server 5.2.00000 and higher.
