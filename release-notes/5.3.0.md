[title]: # (5.3.0 Release Notes)
[tags]: # (release notes)
[priority]: # (1096)

# Password Reset Server Release Notes 5.3.0

## Upgrade Notes

* Thycotic encourages all customers to upgrade to version 5.3.0 at their earliest opportunity. Click to download the [PRSInstaller.msi file.](https://updates.thycotic.net/passwordresetserver/PRSInstaller.msi)

* We also recommend changing the password on your Domain Admin account used by PRS to connect to AD.

* Thycotic thanks Brian Fox from Booze Allen Hamilton for identifying the security issues leading to this release.

## Security

### High Priority Security Fix

Addressed potential credential disclosure issues.

Common Vulnerability Scoring System (CVSS) v3.1:

* **Score**: 10 (Critical)

* [**Vector**: AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H.&version=3.1)

### Best Practices for Hardening PRS Communication to the LDAP Server

To prevent opening a security vulnerability for Password Reset Server, especially when PRS is installed in the DMZ or is exposed to the public internet, outgoing requests over ports 389 and 636 should be blocked by an outbound firewall rule, except those intended for the legitimate LDAP server.  

On the Password Reset Server host, this configuration can be accomplished by creating two custom outbound rules in a specific order. You must create and execute the **Allow** rule first, and then create and execute the **Block** rule.

1. **Allow**. First, create an outbound rule to allow PRS to connect to your internal LDAP server over LDAP ports 389 and 636 only.

1. **Block**. Then, create a second outbound rule to block PRS from connecting to other LDAP servers/endpoints on LDAP ports 389 and 636.

## Bug Fixes

**Offline reset setup failed**. Some users, while installing PRS client in some environments, received an exception message of “Too many automatic re-directions were attempted.” The exception blocked offline reset functionality, and the user received an error message reading, “Offline reset setup failed, verify application host URL is reachable and re-install PRS Windows Login Client.” The issue has been fixed in this release.

**Server not reachable**. After making changes in the customresources folder, some users received an error message of, “Server not reachable.” The message was worded generically to protect the user from potential security vulnerabilities. But the server was always reachable, and the issue has been fixed in this release.

**PRS client 5.1.6 is not compatible with PRS server 5.2.00000 and higher**. Customers on PRS client 5.1.6 must upgrade to PRS client 5.1.7 before they can upgrade to PRS server 5.2.00000 and higher.

Upgrade Path: If you have 5.1.6 installed, upgrade to 5.1.7 and roll out the client that comes with 5.1.7 (client 5.3). Once the client rollout is complete, you can upgrade to any version. If you have 5.1.5 or earlier, or 5.2 and later, you can directly upgrade to PRS 5.3.

| Server Version | Client Version | Compatible? |
| :---: | :---: | :---: |
| 5.1.6 | 5.1.6 | Yes
| 5.1.6 | 5.3   | Yes
| 5.1.7 | 5.1.6 | Yes
| 5.1.7 | 5.3   | Yes
| 5.2.0 | 5.3   | Yes
| 5.2.0 | 5.2.0 | Yes
| 5.2.00001 | 5.3       | Yes
| 5.2.00001 | 5.2.0     | Yes
| 5.2.00001 | 5.2.00001 | Yes
| 5.3 | 5.3 | Yes
| 5.2.0 | 5.1.6 | **No**
| 5.2.00001 | 5.1.6      | **No**

## Notification

**Phone Verification Method**. During phone verification if your phone does not ring, please ensure that the following line is **not** in your `web.config` file:

`<add key="PhoneQuestionCaller.TypeName" value="Thycotic.Usizo.Business.MockPhoneQuestionsCaller"/>`

You might have to restart IIS after removing the line above.
